# === 模块一配置 ===
parser:
  input_dir: "./data"
  output_dir: "./output"
  file_extensions: [".md", ".markdown"]  # 文件后缀白名单
  chunk_strategy:
    max_chars: 1000
    overlap_rows: 2

tags:
  prefix: "?"
  exclude_regex:
    - "^#ignore/.*"
    - "^#temp$"

# === 模块二配置 ===
vector_store:
  provider: "chromadb" # 或 openai, milvus
  collection_name: "knowledge_base"
  dimension: 1024
  batch_size: 512
  embedding:
    api_base: "https://api.siliconflow.cn/v1"
    # api_key 优先从环境变量 OPENAI_API_KEY 读取，其次使用此处配置
    api_key: "sk-ledrdtxjpsdhmmtkqfnktbvukzkwjloloubbhdvukpuvqprc"
    model: "BAAI/bge-large-zh-v1.5"
  chromadb:
    persist_directory: "./chroma_db"
    collection_name: "tag_rag_vectors"

# === 日志配置 ===
logging:
  # 日志级别: DEBUG, INFO, WARNING, ERROR
  level: "INFO"
  # 日志格式
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  # 处理器配置
  handlers:
    console:
      enabled: true
      level: "INFO"
    file:
      enabled: true
      path: "./logs/tag_rag.log"
      # 结合大小(100MB)和时间(每天)轮转
      max_bytes: 104857600  # 100MB
      backup_count: 7       # 保留7天
      when: "midnight"      # 每天轮转
